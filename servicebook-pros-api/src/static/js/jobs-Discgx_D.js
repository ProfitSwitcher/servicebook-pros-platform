import{j as e,a as i,C as n,f as c,B as h,d as g,e as p,g as F}from"./dashboard-C0toryoe.js";import{r as d,c as b,l as V,F as K,q as I,h as z,a4 as X,a as _,w as ce,a5 as oe,D as xe,X as O,o as Z,a6 as me,I as he,x as L,y as ue,U as J,a7 as je,_ as de,a8 as B,a9 as q,aa as ge,ab as Y,k as pe,ac as Ne,ad as ee,P as se,j as fe,M as te,ae,Y as be,C as le,b as ye,af as ve,ag as we,Z as Ce,W as Q,Q as Se,ah as re,ai as ie,T as ne,aj as ke,ak as Te,S as Me}from"./ui-vendor-ClOptf7u.js";const Pe=()=>{const[o,P]=d.useState([]),[s,y]=d.useState(null),[u,S]=d.useState(!1),[j,A]=d.useState(""),[N,D]=d.useState("all"),[v,w]=d.useState(!1),k=[{id:1,estimateNumber:"EST-001",title:"New AC Unit Installation",customer:{name:"Bruce Hall",phone:"(719) 661-8955",email:"bruce.hall@email.com",address:"270 A Street, Seeley Lake, MT 59868"},status:"sent",totalAmount:"$4,500.00",createdDate:"2025-09-11",expiryDate:"2025-10-11",lineItems:[{id:1,description:"New 3-ton AC Unit",quantity:1,price:"$3,200.00",total:"$3,200.00"},{id:2,description:"Installation Labor",quantity:8,price:"$125.00/hr",total:"$1,000.00"},{id:3,description:"Ductwork Modification",quantity:1,price:"$300.00",total:"$300.00"}],notes:"Includes 10-year warranty on parts and labor. Price valid for 30 days.",lastUpdated:"2025-09-11 02:15 PM"},{id:2,estimateNumber:"EST-002",title:"Water Heater Replacement",customer:{name:"Jonathan Winter",phone:"(904) 801-9219",email:"jonathan.winter@email.com",address:"3071 Double Arrow Lookou Road, Seeley Lake, MT 59868"},status:"approved",totalAmount:"$1,850.00",createdDate:"2025-09-10",expiryDate:"2025-10-10",lineItems:[{id:1,description:"50-gallon Gas Water Heater",quantity:1,price:"$1,250.00",total:"$1,250.00"},{id:2,description:"Installation & Removal",quantity:1,price:"$600.00",total:"$600.00"}],notes:"Includes removal of old water heater. Installation can be scheduled for next week.",lastUpdated:"2025-09-12 10:00 AM"},{id:3,estimateNumber:"EST-003",title:"Full House Rewiring",customer:{name:"Susan Scarr",phone:"(770) 480-9498",email:"susan.scarr@email.com",address:"916 Grand Ave, Missoula, MT 59802"},status:"draft",totalAmount:"$12,500.00",createdDate:"2025-09-12",expiryDate:"2025-10-12",lineItems:[{id:1,description:"Complete house rewiring (2000 sq ft)",quantity:1,price:"$10,000.00",total:"$10,000.00"},{id:2,description:"New outlets and switches",quantity:25,price:"$50.00/ea",total:"$1,250.00"},{id:3,description:"Permit and inspection fees",quantity:1,price:"$1,250.00",total:"$1,250.00"}],notes:"Project requires 5-7 business days. A 50% deposit is required to start.",lastUpdated:"2025-09-12 04:30 PM"}];d.useEffect(()=>{P(k)},[]);const $=r=>{switch(r){case"draft":return"bg-gray-100 text-gray-800";case"sent":return"bg-blue-100 text-blue-800";case"viewed":return"bg-purple-100 text-purple-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"expired":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},R=r=>{switch(r){case"draft":return e.jsx(L,{className:"w-4 h-4"});case"sent":return e.jsx(Z,{className:"w-4 h-4"});case"viewed":return e.jsx(de,{className:"w-4 h-4"});case"approved":return e.jsx(z,{className:"w-4 h-4"});case"rejected":return e.jsx(je,{className:"w-4 h-4"});case"expired":return e.jsx(X,{className:"w-4 h-4"});default:return e.jsx(I,{className:"w-4 h-4"})}},E=o.filter(r=>{const M=r.title.toLowerCase().includes(j.toLowerCase())||r.customer.name.toLowerCase().includes(j.toLowerCase())||r.estimateNumber.toLowerCase().includes(j.toLowerCase()),H=N==="all"||r.status===N;return M&&H}),T=r=>e.jsx(n,{className:"mb-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>y(r),children:e.jsxs(c,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[R(r.status),e.jsx("span",{className:"font-semibold text-lg",children:r.estimateNumber})]}),e.jsx(h,{className:$(r.status),children:r.status.toUpperCase()})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-lg",children:r.totalAmount}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Expires: ",r.expiryDate]})]})]}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:r.title}),e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(J,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:r.customer.name})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Created: ",r.createdDate]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Updated: ",r.lastUpdated]})]})]})},r.id),U=()=>s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl h-5/6 overflow-hidden flex flex-col",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h2",{className:"text-2xl font-bold",children:s.estimateNumber}),e.jsx(h,{className:$(s.status),children:s.status.toUpperCase()})]}),e.jsx("h3",{className:"text-xl text-gray-700 mb-2",children:s.title}),e.jsx("div",{className:"text-sm text-gray-600",children:s.customer.name})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(i,{variant:"outline",size:"sm",children:[e.jsx(ce,{className:"w-4 h-4 mr-2"}),"Duplicate"]}),e.jsxs(i,{variant:"outline",size:"sm",children:[e.jsx(oe,{className:"w-4 h-4 mr-2"}),"Print"]}),e.jsxs(i,{variant:"outline",size:"sm",children:[e.jsx(xe,{className:"w-4 h-4 mr-2"}),"Download PDF"]}),e.jsx(i,{variant:"ghost",size:"sm",onClick:()=>y(null),children:e.jsx(O,{className:"w-4 h-4"})})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs(n,{children:[e.jsx(g,{children:e.jsx(p,{children:"Customer"})}),e.jsxs(c,{children:[e.jsx("p",{className:"font-semibold",children:s.customer.name}),e.jsx("p",{children:s.customer.address}),e.jsx("p",{children:s.customer.phone}),e.jsx("p",{children:s.customer.email})]})]}),e.jsxs(n,{children:[e.jsx(g,{children:e.jsx(p,{children:"Estimate Details"})}),e.jsxs(c,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Created:"})," ",s.createdDate]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Expires:"})," ",s.expiryDate]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total:"})," ",e.jsx("span",{className:"font-bold text-lg",children:s.totalAmount})]})]})]})]}),e.jsxs(n,{className:"mb-6",children:[e.jsx(g,{children:e.jsx(p,{children:"Line Items"})}),e.jsx(c,{children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-2",children:"Description"}),e.jsx("th",{className:"text-right py-2",children:"Quantity"}),e.jsx("th",{className:"text-right py-2",children:"Price"}),e.jsx("th",{className:"text-right py-2",children:"Total"})]})}),e.jsx("tbody",{children:s.lineItems.map(r=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2",children:r.description}),e.jsx("td",{className:"text-right py-2",children:r.quantity}),e.jsx("td",{className:"text-right py-2",children:r.price}),e.jsx("td",{className:"text-right py-2 font-semibold",children:r.total})]},r.id))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"border-t-2",children:[e.jsx("td",{colSpan:"3",className:"text-right py-2 font-bold",children:"Total"}),e.jsx("td",{className:"text-right py-2 font-bold text-lg",children:s.totalAmount})]})})]})})]}),e.jsxs(n,{children:[e.jsx(g,{children:e.jsx(p,{children:"Notes"})}),e.jsx(c,{children:e.jsx("p",{children:s.notes})})]})]}),e.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex justify-end items-center space-x-3",children:[s.status==="draft"&&e.jsxs(i,{variant:"outline",onClick:()=>alert("Send estimate"),children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Send to Customer"]}),s.status==="sent"&&e.jsxs(i,{variant:"outline",onClick:()=>alert("Mark as approved"),children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Mark as Approved"]}),s.status==="approved"&&e.jsxs(i,{onClick:()=>alert("Convert to job"),children:[e.jsx(he,{className:"w-4 h-4 mr-2"}),"Convert to Job"]}),e.jsxs(i,{variant:"outline",onClick:()=>alert("Edit estimate"),children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Edit"]}),e.jsxs(i,{variant:"destructive",onClick:()=>alert("Delete estimate"),children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),"Delete"]})]})})]})}):null;return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Estimates Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Create, send, and track estimates for your customers"})]}),e.jsxs(i,{onClick:()=>S(!0),children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"New Estimate"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search estimates, customers, or estimate numbers...",value:j,onChange:r=>A(r.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("select",{value:N,onChange:r=>D(r.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"sent",children:"Sent"}),e.jsx("option",{value:"viewed",children:"Viewed"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"}),e.jsx("option",{value:"expired",children:"Expired"})]}),e.jsxs(i,{variant:"outline",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"More Filters"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(n,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Estimates"}),e.jsx("p",{className:"text-2xl font-bold",children:o.length})]}),e.jsx(I,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx(n,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),e.jsx("p",{className:"text-2xl font-bold",children:o.filter(r=>r.status==="approved").length})]}),e.jsx(z,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(n,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold",children:o.filter(r=>r.status==="sent"||r.status==="viewed").length})]}),e.jsx(X,{className:"w-8 h-8 text-yellow-600"})]})})}),e.jsx(n,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",o.reduce((r,M)=>r+parseFloat(M.totalAmount.replace("$","").replace(",","")),0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsx(_,{className:"w-8 h-8 text-green-600"})]})})})]}),e.jsx("div",{className:"space-y-4",children:E.length>0?E.map(T):e.jsx(n,{children:e.jsxs(c,{className:"p-12 text-center",children:[e.jsx(I,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No estimates found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:j||N!=="all"?"Try adjusting your search or filters":"Get started by creating your first estimate"}),!j&&N==="all"&&e.jsxs(i,{onClick:()=>S(!0),children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Create First Estimate"]})]})})}),s&&U()]})},Ie=Object.freeze(Object.defineProperty({__proto__:null,default:Pe},Symbol.toStringTag,{value:"Module"})),Ae=()=>{const[o,P]=d.useState([]),[s,y]=d.useState(null),[u,S]=d.useState("overview"),[j,A]=d.useState(!1),[N,D]=d.useState(""),[v,w]=d.useState("all"),[k,$]=d.useState(!1),R=[{id:1,jobNumber:"JOB-001",title:"HVAC System Repair",customer:{name:"John Meyer",phone:"(406) 799-0536",email:"john.meyer@email.com",address:"1251 Golf View Drive, Seeley Lake, MT 59868"},status:"in-progress",priority:"high",assignedTechnician:"Mike Johnson",scheduledDate:"2025-09-12",scheduledTime:"10:00 AM - 12:00 PM",estimatedDuration:"2 hours",totalAmount:"$485.00",scopeOfWork:"Replace faulty compressor unit and check refrigerant levels. Inspect ductwork for leaks.",materials:[{name:"Compressor Unit",quantity:1,cost:"$285.00",urgent:!1},{name:"Refrigerant R-410A",quantity:"2 lbs",cost:"$45.00",urgent:!0},{name:"Duct Tape",quantity:1,cost:"$12.00",urgent:!1}],timeTracking:{startTime:"10:15 AM",endTime:null,totalHours:1.5,billableHours:1.5},homeownerQuestions:[{id:1,question:"What is the warranty on the new compressor?",urgent:!1,answered:!0},{id:2,question:"When was the last maintenance performed?",urgent:!1,answered:!1}],urgentQuestions:[{id:1,question:"Is there access to the electrical panel?",urgent:!0,answered:!1}],notes:"Customer mentioned unusual noises from unit for past week. Check for loose components.",createdDate:"2025-09-10",lastUpdated:"2025-09-12 09:30 AM"},{id:2,jobNumber:"JOB-002",title:"Plumbing - Kitchen Sink Installation",customer:{name:"Susan Scarr",phone:"(770) 480-9498",email:"susan.scarr@email.com",address:"916 Grand Ave, Missoula, MT 59802"},status:"scheduled",priority:"medium",assignedTechnician:"Tom Wilson",scheduledDate:"2025-09-13",scheduledTime:"2:00 PM - 4:00 PM",estimatedDuration:"2 hours",totalAmount:"$325.00",scopeOfWork:"Install new kitchen sink and faucet. Connect plumbing and test for leaks.",materials:[{name:"Kitchen Sink",quantity:1,cost:"$185.00",urgent:!1},{name:"Faucet Assembly",quantity:1,cost:"$95.00",urgent:!1},{name:"Plumbing Fittings",quantity:1,cost:"$25.00",urgent:!0}],timeTracking:{startTime:null,endTime:null,totalHours:0,billableHours:0},homeownerQuestions:[{id:1,question:"What type of warranty comes with the sink?",urgent:!1,answered:!1}],urgentQuestions:[],notes:"Customer prefers morning installation if possible. Check water pressure.",createdDate:"2025-09-11",lastUpdated:"2025-09-11 03:45 PM"},{id:3,jobNumber:"JOB-003",title:"Electrical - Panel Upgrade",customer:{name:"Michael Pritchard",phone:"(406) 546-9299",email:"michael.pritchard@email.com",address:"5855 La Voie Ln, Missoula, MT 59808"},status:"completed",priority:"high",assignedTechnician:"Sarah Davis",scheduledDate:"2025-09-10",scheduledTime:"8:00 AM - 12:00 PM",estimatedDuration:"4 hours",totalAmount:"$1,250.00",scopeOfWork:"Upgrade electrical panel from 100A to 200A. Install new breakers and update wiring.",materials:[{name:"200A Electrical Panel",quantity:1,cost:"$485.00",urgent:!1},{name:"Circuit Breakers",quantity:8,cost:"$240.00",urgent:!1},{name:"Electrical Wire",quantity:"100 ft",cost:"$125.00",urgent:!1}],timeTracking:{startTime:"8:00 AM",endTime:"12:30 PM",totalHours:4.5,billableHours:4},homeownerQuestions:[{id:1,question:"How long will the power be off?",urgent:!1,answered:!0},{id:2,question:"Do I need a permit for this work?",urgent:!1,answered:!0}],urgentQuestions:[],notes:"Job completed successfully. Customer very satisfied with work quality.",createdDate:"2025-09-08",lastUpdated:"2025-09-10 12:45 PM"}];d.useEffect(()=>{P(R)},[]);const E=t=>{switch(t){case"scheduled":return"bg-blue-100 text-blue-800";case"in-progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"on-hold":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},T=t=>{switch(t){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},U=t=>{switch(t){case"scheduled":return e.jsx(le,{className:"w-4 h-4"});case"in-progress":return e.jsx(B,{className:"w-4 h-4"});case"completed":return e.jsx(z,{className:"w-4 h-4"});case"cancelled":return e.jsx(O,{className:"w-4 h-4"});case"on-hold":return e.jsx(ae,{className:"w-4 h-4"});default:return e.jsx(ye,{className:"w-4 h-4"})}},r=o.filter(t=>{const a=t.title.toLowerCase().includes(N.toLowerCase())||t.customer.name.toLowerCase().includes(N.toLowerCase())||t.jobNumber.toLowerCase().includes(N.toLowerCase()),f=v==="all"||t.status===v;return a&&f}),M=t=>e.jsx(n,{className:"mb-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>y(t),children:e.jsxs(c,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[U(t.status),e.jsx("span",{className:"font-semibold text-lg",children:t.jobNumber})]}),e.jsx(h,{className:E(t.status),children:t.status.replace("-"," ").toUpperCase()}),t.priority==="high"&&e.jsx(ee,{className:`w-4 h-4 ${T(t.priority)}`})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-lg",children:t.totalAmount}),e.jsx("div",{className:"text-sm text-gray-500",children:t.estimatedDuration})]})]}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.title}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(J,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:t.customer.name})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:t.customer.phone})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:t.customer.address})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(le,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm",children:[t.scheduledDate," • ",t.scheduledTime]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(J,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm",children:["Assigned to: ",t.assignedTechnician]})]}),t.materials.some(a=>a.urgent)&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(q,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"text-sm text-red-600",children:"Urgent materials needed"})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex space-x-2",children:[t.urgentQuestions.length>0&&e.jsxs(h,{className:"bg-red-100 text-red-800",children:[t.urgentQuestions.length," Urgent Questions"]}),t.homeownerQuestions.filter(a=>!a.answered).length>0&&e.jsxs(h,{className:"bg-blue-100 text-blue-800",children:[t.homeownerQuestions.filter(a=>!a.answered).length," Questions"]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Updated: ",t.lastUpdated]})]})]})},t.id),H=()=>{if(!s)return null;const t=[{id:"overview",label:"Overview",icon:de},{id:"scope",label:"Scope of Work",icon:I},{id:"materials",label:"Materials",icon:ge,badge:s.materials.filter(a=>a.urgent).length},{id:"time",label:"Time Tracking",icon:Y},{id:"questions",label:"Homeowner Questions",icon:pe,badge:s.homeownerQuestions.filter(a=>!a.answered).length},{id:"urgent-questions",label:"Urgent Questions",icon:q,badge:s.urgentQuestions.length},{id:"notes",label:"Notes",icon:Ne}];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg w-full max-w-6xl h-5/6 overflow-hidden",children:e.jsx("div",{className:"flex h-full",children:e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h2",{className:"text-2xl font-bold",children:s.jobNumber}),e.jsx(h,{className:E(s.status),children:s.status.replace("-"," ").toUpperCase()}),s.priority==="high"&&e.jsx(ee,{className:`w-5 h-5 ${T(s.priority)}`})]}),e.jsx("h3",{className:"text-xl text-gray-700 mb-2",children:s.title}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsx("span",{children:s.customer.name}),e.jsx("span",{children:"•"}),e.jsx("span",{children:s.scheduledDate}),e.jsx("span",{children:"•"}),e.jsx("span",{children:s.assignedTechnician})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(i,{variant:"outline",size:"sm",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Edit Job"]}),e.jsx(i,{variant:"ghost",size:"sm",onClick:()=>y(null),children:e.jsx(O,{className:"w-4 h-4"})})]})]})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:t.map(a=>{const f=a.icon;return e.jsxs("button",{onClick:()=>S(a.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${u===a.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(f,{className:"w-4 h-4"}),e.jsx("span",{children:a.label}),a.badge>0&&e.jsx(h,{className:"bg-red-100 text-red-800 text-xs",children:a.badge})]},a.id)})})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[u==="overview"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(n,{children:[e.jsx(g,{children:e.jsx(p,{className:"text-lg",children:"Customer Information"})}),e.jsxs(c,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(J,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:s.customer.name})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{children:s.customer.phone})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{children:s.customer.email})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(te,{className:"w-4 h-4 text-gray-500 mt-1"}),e.jsx("span",{children:s.customer.address})]})]})]}),e.jsxs(n,{children:[e.jsx(g,{children:e.jsx(p,{className:"text-lg",children:"Job Details"})}),e.jsxs(c,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),e.jsx("span",{className:"font-semibold",children:s.totalAmount})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Estimated Duration:"}),e.jsx("span",{children:s.estimatedDuration})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Scheduled:"}),e.jsxs("span",{children:[s.scheduledDate," • ",s.scheduledTime]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Assigned to:"}),e.jsx("span",{children:s.assignedTechnician})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Priority:"}),e.jsx("span",{className:`font-medium ${T(s.priority)}`,children:s.priority.toUpperCase()})]})]})]})]})}),u==="scope"&&e.jsxs(n,{children:[e.jsxs(g,{children:[e.jsx(p,{className:"text-lg",children:"Scope of Work"}),e.jsx(F,{children:"Detailed description of work to be performed"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.scopeOfWork})}),e.jsx("div",{className:"mt-4",children:e.jsxs(i,{variant:"outline",size:"sm",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Edit Scope"]})})]})]}),u==="materials"&&e.jsxs("div",{className:"space-y-4",children:[s.materials.filter(a=>a.urgent).length>0&&e.jsxs(n,{className:"border-red-200 bg-red-50",children:[e.jsx(g,{children:e.jsxs(p,{className:"text-lg text-red-800 flex items-center",children:[e.jsx(q,{className:"w-5 h-5 mr-2"}),"Urgent Materials Needed"]})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-3",children:s.materials.filter(a=>a.urgent).map((a,f)=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded border",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a.name}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Quantity: ",a.quantity]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold",children:a.cost}),e.jsx(h,{className:"bg-red-100 text-red-800",children:"URGENT"})]})]},f))})})]}),e.jsxs(n,{children:[e.jsx(g,{children:e.jsx(p,{className:"text-lg",children:"All Materials"})}),e.jsxs(c,{children:[e.jsx("div",{className:"space-y-3",children:s.materials.map((a,f)=>e.jsxs("div",{className:"flex justify-between items-center p-3 border rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a.name}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Quantity: ",a.quantity]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold",children:a.cost}),a.urgent&&e.jsx(h,{className:"bg-red-100 text-red-800",children:"URGENT"})]})]},f))}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[e.jsx("span",{children:"Total Materials Cost:"}),e.jsxs("span",{children:["$",s.materials.reduce((a,f)=>a+parseFloat(f.cost.replace("$","")),0).toFixed(2)]})]})})]})]})]}),u==="time"&&e.jsxs(n,{children:[e.jsx(g,{children:e.jsx(p,{className:"text-lg",children:"Time Tracking"})}),e.jsx(c,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Start Time:"}),e.jsx("span",{className:"font-medium",children:s.timeTracking.startTime||"Not started"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"End Time:"}),e.jsx("span",{className:"font-medium",children:s.timeTracking.endTime||"In progress"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total Hours:"}),e.jsxs("span",{className:"font-medium",children:[s.timeTracking.totalHours,"h"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Billable Hours:"}),e.jsxs("span",{className:"font-medium",children:[s.timeTracking.billableHours,"h"]})]})]}),e.jsx("div",{className:"space-y-2",children:s.status==="in-progress"?e.jsxs(i,{className:"w-full bg-red-600 hover:bg-red-700",children:[e.jsx(ae,{className:"w-4 h-4 mr-2"}),"Stop Timer"]}):s.status==="scheduled"?e.jsxs(i,{className:"w-full bg-green-600 hover:bg-green-700",children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Start Timer"]}):e.jsxs(i,{variant:"outline",className:"w-full",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"View Time Log"]})})]})})]}),u==="questions"&&e.jsxs(n,{children:[e.jsxs(g,{children:[e.jsx(p,{className:"text-lg",children:"Homeowner Questions"}),e.jsx(F,{children:"General questions for the homeowner"})]}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-4",children:[s.homeownerQuestions.map(a=>e.jsx("div",{className:`p-4 border rounded-lg ${a.answered?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"font-medium",children:a.question})}),e.jsx("div",{className:"flex items-center space-x-2",children:a.answered?e.jsx(h,{className:"bg-green-100 text-green-800",children:"Answered"}):e.jsx(h,{className:"bg-yellow-100 text-yellow-800",children:"Pending"})})]})},a.id)),e.jsxs(i,{variant:"outline",size:"sm",children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Add Question"]})]})})]}),u==="urgent-questions"&&e.jsxs(n,{className:"border-red-200",children:[e.jsxs(g,{children:[e.jsxs(p,{className:"text-lg text-red-800 flex items-center",children:[e.jsx(q,{className:"w-5 h-5 mr-2"}),"Urgent Homeowner Questions"]}),e.jsx(F,{children:"Questions that need immediate attention"})]}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-4",children:[s.urgentQuestions.length>0?s.urgentQuestions.map(a=>e.jsx("div",{className:"p-4 border border-red-200 rounded-lg bg-red-50",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"font-medium text-red-800",children:a.question})}),e.jsx("div",{className:"flex items-center space-x-2",children:a.answered?e.jsx(h,{className:"bg-green-100 text-green-800",children:"Answered"}):e.jsx(h,{className:"bg-red-100 text-red-800",children:"URGENT"})})]})},a.id)):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(be,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No urgent questions at this time"})]}),e.jsxs(i,{variant:"outline",size:"sm",className:"border-red-300 text-red-700 hover:bg-red-50",children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Add Urgent Question"]})]})})]}),u==="notes"&&e.jsxs(n,{children:[e.jsx(g,{children:e.jsx(p,{className:"text-lg",children:"Job Notes"})}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-gray-700",children:s.notes})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Add Note"}),e.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"Add a note about this job..."}),e.jsxs(i,{size:"sm",children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Add Note"]})]})]})})]})]})]})})})})};return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Jobs Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all your service jobs and track progress"})]}),e.jsxs(i,{onClick:()=>A(!0),children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"New Job"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search jobs, customers, or job numbers...",value:N,onChange:t=>D(t.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("select",{value:v,onChange:t=>w(t.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"in-progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"}),e.jsx("option",{value:"on-hold",children:"On Hold"})]}),e.jsxs(i,{variant:"outline",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"More Filters"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(n,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Jobs"}),e.jsx("p",{className:"text-2xl font-bold",children:o.length})]}),e.jsx(I,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx(n,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-bold",children:o.filter(t=>t.status==="in-progress").length})]}),e.jsx(B,{className:"w-8 h-8 text-yellow-600"})]})})}),e.jsx(n,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold",children:o.filter(t=>t.status==="completed").length})]}),e.jsx(z,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(n,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Urgent Items"}),e.jsx("p",{className:"text-2xl font-bold",children:o.reduce((t,a)=>t+a.materials.filter(f=>f.urgent).length+a.urgentQuestions.length,0)})]}),e.jsx(q,{className:"w-8 h-8 text-red-600"})]})})})]}),e.jsx("div",{className:"space-y-4",children:r.length>0?r.map(M):e.jsx(n,{children:e.jsxs(c,{className:"p-12 text-center",children:[e.jsx(I,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No jobs found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:N||v!=="all"?"Try adjusting your search or filters":"Get started by creating your first job"}),!N&&v==="all"&&e.jsxs(i,{onClick:()=>A(!0),children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Create First Job"]})]})})}),s&&H()]})},Le=Object.freeze(Object.defineProperty({__proto__:null,default:Ae},Symbol.toStringTag,{value:"Module"})),De=()=>{const[o,P]=d.useState([]),[s,y]=d.useState([]),[u,S]=d.useState("all"),[j,A]=d.useState(""),[N,D]=d.useState(!1),[v,w]=d.useState(!1),[k,$]=d.useState(125),[R,E]=d.useState(!1),T=[{id:"hvac",name:"HVAC",icon:ve,color:"bg-blue-100 text-blue-800",profitMargin:35},{id:"plumbing",name:"Plumbing",icon:we,color:"bg-cyan-100 text-cyan-800",profitMargin:40},{id:"electrical",name:"Electrical",icon:Ce,color:"bg-yellow-100 text-yellow-800",profitMargin:45},{id:"general",name:"General Repair",icon:Q,color:"bg-gray-100 text-gray-800",profitMargin:30}],U=[{id:1,category:"hvac",code:"HVAC-001",title:"AC Unit Diagnostic & Repair",description:"Complete diagnostic of AC unit including electrical connections, refrigerant levels, compressor function, and thermostat calibration. Includes minor repairs and adjustments.",laborHours:2,materialCost:45,laborCost:250,profitMargin:35,totalPrice:398.25,tags:["diagnostic","repair","ac"],lastUpdated:"2025-09-12"},{id:2,category:"hvac",code:"HVAC-002",title:"Furnace Filter Replacement & Tune-up",description:"Replace furnace filter, clean blower assembly, check gas connections, test safety controls, and perform complete system tune-up for optimal efficiency.",laborHours:1.5,materialCost:25,laborCost:187.5,profitMargin:35,totalPrice:286.88,tags:["maintenance","filter","furnace"],lastUpdated:"2025-09-12"},{id:3,category:"plumbing",code:"PLUMB-001",title:"Toilet Installation & Removal",description:"Remove existing toilet, install new toilet with wax ring, supply line, and mounting hardware. Test for leaks and proper operation. Includes disposal of old toilet.",laborHours:2.5,materialCost:85,laborCost:312.5,profitMargin:40,totalPrice:556.25,tags:["installation","toilet","bathroom"],lastUpdated:"2025-09-12"},{id:4,category:"plumbing",code:"PLUMB-002",title:"Kitchen Sink Faucet Repair",description:"Diagnose and repair kitchen sink faucet issues including leaks, low water pressure, or handle problems. Replace cartridges, O-rings, or aerators as needed.",laborHours:1,materialCost:35,laborCost:125,profitMargin:40,totalPrice:224,tags:["repair","faucet","kitchen"],lastUpdated:"2025-09-12"},{id:5,category:"electrical",code:"ELEC-001",title:"Outlet Installation (GFCI)",description:"Install new GFCI outlet including running wire from panel, installing outlet box, connecting wiring, and testing for proper ground fault protection.",laborHours:2,materialCost:65,laborCost:250,profitMargin:45,totalPrice:456.75,tags:["installation","outlet","gfci","safety"],lastUpdated:"2025-09-12"},{id:6,category:"electrical",code:"ELEC-002",title:"Circuit Breaker Replacement",description:"Replace faulty circuit breaker in electrical panel. Includes testing circuit load, installing new breaker, and verifying proper operation and safety.",laborHours:1.5,materialCost:45,laborCost:187.5,profitMargin:45,totalPrice:337.13,tags:["replacement","breaker","electrical panel"],lastUpdated:"2025-09-12"}];d.useEffect(()=>{y(T),P(U)},[]);const r=l=>{$(l);const x=o.map(m=>{const C=m.laborHours*l,W=(C+m.materialCost)*(1+m.profitMargin/100);return{...m,laborCost:C,totalPrice:W}});P(x)},M=l=>{const x=s.find(m=>m.id===l);return x?x.icon:Q},H=l=>{const x=s.find(m=>m.id===l);return x?x.color:"bg-gray-100 text-gray-800"},t=o.filter(l=>{const x=l.title.toLowerCase().includes(j.toLowerCase())||l.description.toLowerCase().includes(j.toLowerCase())||l.code.toLowerCase().includes(j.toLowerCase())||l.tags.some(C=>C.toLowerCase().includes(j.toLowerCase())),m=u==="all"||l.category===u;return x&&m}),a=l=>{const x=M(l.category);return e.jsx(n,{className:"mb-4 hover:shadow-md transition-shadow",children:e.jsxs(c,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(x,{className:"w-6 h-6 text-gray-600"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-semibold text-lg",children:l.code}),e.jsx(h,{className:H(l.category),children:s.find(m=>m.id===l.category)?.name})]}),e.jsx("h3",{className:"text-xl font-semibold mt-1",children:l.title})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",l.totalPrice.toFixed(2)]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[l.laborHours,"h labor"]})]})]}),e.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:l.description}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Labor Hours"}),e.jsxs("div",{className:"font-semibold",children:[l.laborHours,"h"]})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Labor Cost"}),e.jsxs("div",{className:"font-semibold",children:["$",l.laborCost.toFixed(2)]})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Materials"}),e.jsxs("div",{className:"font-semibold",children:["$",l.materialCost.toFixed(2)]})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Profit Margin"}),e.jsxs("div",{className:"font-semibold",children:[l.profitMargin,"%"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:l.tags.map(m=>e.jsx(h,{variant:"outline",className:"text-xs",children:m},m))}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(i,{variant:"outline",size:"sm",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Edit"]}),e.jsxs(i,{variant:"outline",size:"sm",children:[e.jsx(ce,{className:"w-4 h-4 mr-2"}),"Duplicate"]})]})]})]})},l.id)},f=()=>e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Pricing Settings"}),e.jsx(i,{variant:"ghost",size:"sm",onClick:()=>w(!1),children:e.jsx(O,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(n,{children:[e.jsxs(g,{children:[e.jsxs(p,{className:"flex items-center",children:[e.jsx(re,{className:"w-5 h-5 mr-2"}),"Labor Rate Configuration"]}),e.jsx(F,{children:"Adjust your hourly labor rate. This will automatically update all pricing items."})]}),e.jsxs(c,{children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hourly Labor Rate"}),e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"number",value:k,onChange:l=>$(parseFloat(l.target.value)||0),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",step:"0.01",min:"0"})]})]}),e.jsx("div",{className:"pt-6",children:e.jsxs(i,{onClick:()=>r(k),children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),"Update All Prices"]})})]}),e.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Impact:"})," Updating the labor rate will recalculate ",o.length," pricing items automatically."]})})]})]}),e.jsxs(n,{children:[e.jsxs(g,{children:[e.jsxs(p,{className:"flex items-center",children:[e.jsx(ne,{className:"w-5 h-5 mr-2"}),"Category Profit Margins"]}),e.jsx(F,{children:"Set profit margins for each service category"})]}),e.jsx(c,{children:e.jsx("div",{className:"space-y-4",children:s.map(l=>{const x=l.icon;return e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(x,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium",children:l.name})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",value:l.profitMargin,onChange:m=>{const C=parseFloat(m.target.value)||0;y(W=>W.map(G=>G.id===l.id?{...G,profitMargin:C}:G))},className:"w-20 px-2 py-1 border border-gray-300 rounded text-center",step:"1",min:"0",max:"100"}),e.jsx(Te,{className:"w-4 h-4 text-gray-400"})]})]},l.id)})})})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx(i,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),e.jsxs(i,{onClick:()=>{r(k),w(!1)},children:[e.jsx(Me,{className:"w-4 h-4 mr-2"}),"Save Settings"]})]})]})});return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pricing Catalog"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your flat-rate pricing and service catalog"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(i,{variant:"outline",onClick:()=>w(!0),children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"Pricing Settings"]}),e.jsxs(i,{onClick:()=>D(!0),children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"New Pricing Item"]})]})]}),e.jsx(n,{className:"mb-6 bg-blue-50 border-blue-200",children:e.jsx(c,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(re,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-900",children:"Current Labor Rate"}),e.jsx("div",{className:"text-sm text-blue-700",children:"All pricing is calculated using this rate"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:["$",k.toFixed(2),"/hour"]}),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>w(!0),children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Adjust Rate"]})]})]})})}),e.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[e.jsxs(i,{variant:u==="all"?"default":"outline",onClick:()=>S("all"),className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"w-4 h-4"}),e.jsx("span",{children:"All Categories"}),e.jsx(h,{variant:"secondary",children:o.length})]}),s.map(l=>{const x=l.icon,m=o.filter(C=>C.category===l.id).length;return e.jsxs(i,{variant:u===l.id?"default":"outline",onClick:()=>S(l.id),className:"flex items-center space-x-2",children:[e.jsx(x,{className:"w-4 h-4"}),e.jsx("span",{children:l.name}),e.jsx(h,{variant:"secondary",children:m})]},l.id)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search pricing items, codes, or descriptions...",value:j,onChange:l=>A(l.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs(i,{variant:"outline",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"More Filters"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(n,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),e.jsx("p",{className:"text-2xl font-bold",children:o.length})]}),e.jsx(Q,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx(n,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg. Price"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",(o.reduce((l,x)=>l+x.totalPrice,0)/o.length||0).toFixed(0)]})]}),e.jsx(_,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(n,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Categories"}),e.jsx("p",{className:"text-2xl font-bold",children:s.length})]}),e.jsx(ie,{className:"w-8 h-8 text-purple-600"})]})})}),e.jsx(n,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg. Margin"}),e.jsxs("p",{className:"text-2xl font-bold",children:[(s.reduce((l,x)=>l+x.profitMargin,0)/s.length||0).toFixed(0),"%"]})]}),e.jsx(ne,{className:"w-8 h-8 text-orange-600"})]})})})]}),e.jsx("div",{className:"space-y-4",children:t.length>0?t.map(a):e.jsx(n,{children:e.jsxs(c,{className:"p-12 text-center",children:[e.jsx(Q,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No pricing items found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:j||u!=="all"?"Try adjusting your search or filters":"Get started by creating your first pricing item"}),!j&&u==="all"&&e.jsxs(i,{onClick:()=>D(!0),children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Create First Pricing Item"]})]})})}),v&&f()]})},Ue=Object.freeze(Object.defineProperty({__proto__:null,default:De},Symbol.toStringTag,{value:"Module"}));export{Ie as E,Le as J,De as P,Ue as a};
