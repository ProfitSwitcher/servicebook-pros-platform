import{j as e,c as ce,B as _,a as u,b as H,C as de,d as me,e as xe,f as ue}from"./dashboard-C0toryoe.js";import{r as c,U as E,X as Y,i as G,B as Z,j as T,P,M as X,S as he,k as w,l as Q,m as pe,n as ge,o as je,b as be,p as ye,q as $,D as J,s as B,c as fe,F as ve,t as Ne,G as we,u as Ce,v as Se,w as ke,E as K,x as U,C as L,y as q}from"./ui-vendor-ClOptf7u.js";function Ae({className:C,type:g,...n}){return e.jsx("input",{type:g,"data-slot":"input",className:ce("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",C),...n})}const ee=({isOpen:C,onClose:g,onSave:n})=>{const[l,x]=c.useState({firstName:"",lastName:"",company:"",email:"",phone:"",mobile:"",address:"",city:"",state:"",zipCode:"",notes:"",customerType:"residential"}),[i,h]=c.useState({}),[f,j]=c.useState(!1),m=(t,d)=>{x(o=>({...o,[t]:d})),i[t]&&h(o=>({...o,[t]:""}))},v=()=>{const t={};return l.firstName.trim()||(t.firstName="First name is required"),l.lastName.trim()||(t.lastName="Last name is required"),l.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)&&(t.email="Please enter a valid email address"),l.phone&&!/^\(\d{3}\) \d{3}-\d{4}$/.test(l.phone)&&(t.phone="Please enter phone in format (123) 456-7890"),l.mobile&&!/^\(\d{3}\) \d{3}-\d{4}$/.test(l.mobile)&&(t.mobile="Please enter mobile in format (123) 456-7890"),l.zipCode&&!/^\d{5}(-\d{4})?$/.test(l.zipCode)&&(t.zipCode="Please enter a valid ZIP code"),h(t),Object.keys(t).length===0},z=t=>{const d=t.replace(/\D/g,"");return d.length>=6?`(${d.slice(0,3)}) ${d.slice(3,6)}-${d.slice(6,10)}`:d.length>=3?`(${d.slice(0,3)}) ${d.slice(3)}`:d},y=(t,d)=>{const o=z(d);m(t,o)},N=async t=>{if(t.preventDefault(),!!v()){j(!0);try{const d={id:Date.now(),name:`${l.firstName} ${l.lastName}`.trim(),firstName:l.firstName,lastName:l.lastName,company:l.company,email:l.email,phone:l.phone,mobile:l.mobile||l.phone,address:l.address,city:l.city,state:l.state,zip_code:l.zipCode,notes:l.notes,customer_type:l.customerType,created_at:new Date().toISOString(),last_contact:null,total_jobs:0,total_spent:0,status:"active"};await n(d),x({firstName:"",lastName:"",company:"",email:"",phone:"",mobile:"",address:"",city:"",state:"",zipCode:"",notes:"",customerType:"residential"}),g()}catch(d){console.error("Error creating customer:",d),h({submit:"Failed to create customer. Please try again."})}finally{j(!1)}}},S=()=>{x({firstName:"",lastName:"",company:"",email:"",phone:"",mobile:"",address:"",city:"",state:"",zipCode:"",notes:"",customerType:"residential"}),h({}),g()};return C?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(E,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Customer"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Add a new customer to your database"})]})]}),e.jsx("button",{onClick:S,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Y,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:N,className:"p-6 space-y-6",children:[i.submit&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(G,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{className:"text-sm text-red-700",children:i.submit})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Type"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"customerType",value:"residential",checked:l.customerType==="residential",onChange:t=>m("customerType",t.target.value),className:"mr-2"}),e.jsx(E,{className:"w-4 h-4 mr-1"}),"Residential"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"customerType",value:"commercial",checked:l.customerType==="commercial",onChange:t=>m("customerType",t.target.value),className:"mr-2"}),e.jsx(Z,{className:"w-4 h-4 mr-1"}),"Commercial"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),e.jsx("input",{type:"text",value:l.firstName,onChange:t=>m("firstName",t.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.firstName?"border-red-300":"border-gray-300"}`,placeholder:"Enter first name"}),i.firstName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.firstName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),e.jsx("input",{type:"text",value:l.lastName,onChange:t=>m("lastName",t.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.lastName?"border-red-300":"border-gray-300"}`,placeholder:"Enter last name"}),i.lastName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.lastName})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:l.company,onChange:t=>m("company",t.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter company name (optional)"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(T,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"email",value:l.email,onChange:t=>m("email",t.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.email?"border-red-300":"border-gray-300"}`,placeholder:"customer@email.com"})]}),i.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"tel",value:l.phone,onChange:t=>y("phone",t.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.phone?"border-red-300":"border-gray-300"}`,placeholder:"(123) 456-7890"})]}),i.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.phone})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile"}),e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"tel",value:l.mobile,onChange:t=>y("mobile",t.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.mobile?"border-red-300":"border-gray-300"}`,placeholder:"(123) 456-7890"})]}),i.mobile&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.mobile})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(X,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:l.address,onChange:t=>m("address",t.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Street address"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),e.jsx("input",{type:"text",value:l.city,onChange:t=>m("city",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"City"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),e.jsxs("select",{value:l.state,onChange:t=>m("state",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select State"}),e.jsx("option",{value:"AL",children:"Alabama"}),e.jsx("option",{value:"AK",children:"Alaska"}),e.jsx("option",{value:"AZ",children:"Arizona"}),e.jsx("option",{value:"AR",children:"Arkansas"}),e.jsx("option",{value:"CA",children:"California"}),e.jsx("option",{value:"CO",children:"Colorado"}),e.jsx("option",{value:"CT",children:"Connecticut"}),e.jsx("option",{value:"DE",children:"Delaware"}),e.jsx("option",{value:"FL",children:"Florida"}),e.jsx("option",{value:"GA",children:"Georgia"}),e.jsx("option",{value:"HI",children:"Hawaii"}),e.jsx("option",{value:"ID",children:"Idaho"}),e.jsx("option",{value:"IL",children:"Illinois"}),e.jsx("option",{value:"IN",children:"Indiana"}),e.jsx("option",{value:"IA",children:"Iowa"}),e.jsx("option",{value:"KS",children:"Kansas"}),e.jsx("option",{value:"KY",children:"Kentucky"}),e.jsx("option",{value:"LA",children:"Louisiana"}),e.jsx("option",{value:"ME",children:"Maine"}),e.jsx("option",{value:"MD",children:"Maryland"}),e.jsx("option",{value:"MA",children:"Massachusetts"}),e.jsx("option",{value:"MI",children:"Michigan"}),e.jsx("option",{value:"MN",children:"Minnesota"}),e.jsx("option",{value:"MS",children:"Mississippi"}),e.jsx("option",{value:"MO",children:"Missouri"}),e.jsx("option",{value:"MT",children:"Montana"}),e.jsx("option",{value:"NE",children:"Nebraska"}),e.jsx("option",{value:"NV",children:"Nevada"}),e.jsx("option",{value:"NH",children:"New Hampshire"}),e.jsx("option",{value:"NJ",children:"New Jersey"}),e.jsx("option",{value:"NM",children:"New Mexico"}),e.jsx("option",{value:"NY",children:"New York"}),e.jsx("option",{value:"NC",children:"North Carolina"}),e.jsx("option",{value:"ND",children:"North Dakota"}),e.jsx("option",{value:"OH",children:"Ohio"}),e.jsx("option",{value:"OK",children:"Oklahoma"}),e.jsx("option",{value:"OR",children:"Oregon"}),e.jsx("option",{value:"PA",children:"Pennsylvania"}),e.jsx("option",{value:"RI",children:"Rhode Island"}),e.jsx("option",{value:"SC",children:"South Carolina"}),e.jsx("option",{value:"SD",children:"South Dakota"}),e.jsx("option",{value:"TN",children:"Tennessee"}),e.jsx("option",{value:"TX",children:"Texas"}),e.jsx("option",{value:"UT",children:"Utah"}),e.jsx("option",{value:"VT",children:"Vermont"}),e.jsx("option",{value:"VA",children:"Virginia"}),e.jsx("option",{value:"WA",children:"Washington"}),e.jsx("option",{value:"WV",children:"West Virginia"}),e.jsx("option",{value:"WI",children:"Wisconsin"}),e.jsx("option",{value:"WY",children:"Wyoming"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code"}),e.jsx("input",{type:"text",value:l.zipCode,onChange:t=>m("zipCode",t.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.zipCode?"border-red-300":"border-gray-300"}`,placeholder:"12345"}),i.zipCode&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.zipCode})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),e.jsx("textarea",{value:l.notes,onChange:t=>m("notes",t.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Additional notes about this customer..."})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:f?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Creating..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"w-4 h-4"}),e.jsx("span",{children:"Create Customer"})]})})]})]})]})}):null},_e=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"})),se=({isOpen:C,onClose:g})=>{const[n,l]=c.useState(null),[x,i]=c.useState("sms"),[h,f]=c.useState(""),[j,m]=c.useState(""),[v,z]=c.useState("all"),y=c.useRef(null),[N]=c.useState([{id:1,customer:{name:"John Smith",phone:"+1 (555) 123-4567",email:"john@example.com",avatar:"JS"},lastMessage:{text:"Thank you for the quick service!",timestamp:"2 min ago",type:"sms",direction:"inbound"},unreadCount:2,status:"active"},{id:2,customer:{name:"Sarah Johnson",phone:"+1 (555) 987-6543",email:"sarah@example.com",avatar:"SJ"},lastMessage:{text:"When can you schedule the follow-up?",timestamp:"15 min ago",type:"email",direction:"inbound"},unreadCount:1,status:"pending"},{id:3,customer:{name:"Mike Wilson",phone:"+1 (555) 456-7890",email:"mike@example.com",avatar:"MW"},lastMessage:{text:"Appointment confirmed for tomorrow at 2 PM",timestamp:"1 hour ago",type:"sms",direction:"outbound"},unreadCount:0,status:"completed"}]),[S]=c.useState({1:[{id:1,text:"Hi, I need to reschedule my appointment for tomorrow.",timestamp:"10:30 AM",type:"sms",direction:"inbound",status:"delivered"},{id:2,text:"No problem! What time works better for you?",timestamp:"10:32 AM",type:"sms",direction:"outbound",status:"delivered"},{id:3,text:"How about Friday at 3 PM?",timestamp:"10:35 AM",type:"sms",direction:"inbound",status:"delivered"},{id:4,text:"Perfect! I've rescheduled your appointment for Friday, March 15th at 3:00 PM. You'll receive a confirmation shortly.",timestamp:"10:36 AM",type:"sms",direction:"outbound",status:"delivered"},{id:5,text:"Thank you for the quick service!",timestamp:"2 min ago",type:"sms",direction:"inbound",status:"delivered"}],2:[{id:1,text:"Thank you for completing the HVAC maintenance. Everything looks great!",timestamp:"Yesterday 2:15 PM",type:"email",direction:"inbound",status:"delivered",subject:"Service Completion Feedback"},{id:2,text:"We're glad you're satisfied with our service! We recommend scheduling a follow-up maintenance in 6 months.",timestamp:"Yesterday 3:20 PM",type:"email",direction:"outbound",status:"delivered",subject:"Re: Service Completion Feedback"},{id:3,text:"When can you schedule the follow-up?",timestamp:"15 min ago",type:"email",direction:"inbound",status:"delivered",subject:"Follow-up Maintenance Scheduling"}]}),t=()=>{y.current?.scrollIntoView({behavior:"smooth"})};c.useEffect(()=>{t()},[n,S]);const d=N.filter(a=>{const p=a.customer.name.toLowerCase().includes(j.toLowerCase())||a.customer.phone.includes(j)||a.customer.email.toLowerCase().includes(j.toLowerCase()),M=v==="all"||v==="unread"&&a.unreadCount>0||v==="sms"&&a.lastMessage.type==="sms"||v==="email"&&a.lastMessage.type==="email";return p&&M}),o=()=>{!h.trim()||!n||(console.log("Sending message:",{conversationId:n.id,type:x,message:h,recipient:x==="sms"?n.customer.phone:n.customer.email}),f(""))},A=a=>{switch(a){case"delivered":return e.jsx(ye,{className:"w-3 h-3 text-green-500"});case"pending":return e.jsx(be,{className:"w-3 h-3 text-yellow-500"});case"failed":return e.jsx(G,{className:"w-3 h-3 text-red-500"});default:return null}};return C?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end justify-end p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl h-[600px] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-lg font-semibold",children:"Customer Inbox"}),e.jsxs(_,{className:"bg-blue-100 text-blue-700",children:[N.reduce((a,p)=>a+p.unreadCount,0)," unread"]})]}),e.jsx(u,{variant:"ghost",size:"sm",onClick:g,children:e.jsx(Y,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsxs("div",{className:"w-80 border-r border-gray-200 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Q,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search conversations...",value:j,onChange:a=>m(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("select",{value:v,onChange:a=>z(a.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{value:"all",children:"All Messages"}),e.jsx("option",{value:"unread",children:"Unread"}),e.jsx("option",{value:"sms",children:"SMS Only"}),e.jsx("option",{value:"email",children:"Email Only"})]})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:d.map(a=>e.jsx("div",{onClick:()=>l(a),className:`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors ${n?.id===a.id?"bg-blue-50 border-blue-200":""}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-sm font-medium text-blue-700",children:a.customer.avatar}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"font-medium text-sm truncate",children:a.customer.name}),e.jsxs("div",{className:"flex items-center gap-1",children:[a.lastMessage.type==="sms"?e.jsx(w,{className:"w-3 h-3 text-gray-400"}):e.jsx(T,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-500",children:a.lastMessage.timestamp})]})]}),e.jsx("p",{className:"text-sm text-gray-600 truncate",children:a.lastMessage.text}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:a.lastMessage.type==="sms"?a.customer.phone:a.customer.email}),a.unreadCount>0&&e.jsx(_,{className:"bg-blue-600 text-white text-xs",children:a.unreadCount})]})]})]})},a.id))})]}),e.jsx("div",{className:"flex-1 flex flex-col",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-sm font-medium text-blue-700",children:n.customer.avatar}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:n.customer.name}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(P,{className:"w-3 h-3"}),n.customer.phone]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"w-3 h-3"}),n.customer.email]})]})]})]}),e.jsx(u,{variant:"ghost",size:"sm",children:e.jsx(pe,{className:"w-4 h-4"})})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[S[n.id]?.map(a=>e.jsx("div",{className:`flex ${a.direction==="outbound"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${a.direction==="outbound"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[a.subject&&e.jsx("div",{className:"font-medium text-sm mb-1 opacity-90",children:a.subject}),e.jsx("p",{className:"text-sm",children:a.text}),e.jsxs("div",{className:`flex items-center justify-between mt-2 text-xs ${a.direction==="outbound"?"text-blue-100":"text-gray-500"}`,children:[e.jsx("span",{children:a.timestamp}),e.jsxs("div",{className:"flex items-center gap-1",children:[a.type==="sms"?e.jsx(w,{className:"w-3 h-3"}):e.jsx(T,{className:"w-3 h-3"}),a.direction==="outbound"&&A(a.status)]})]})]})},a.id)),e.jsx("div",{ref:y})]}),e.jsxs("div",{className:"p-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsxs("select",{value:x,onChange:a=>i(a.target.value),className:"px-3 py-1 border border-gray-300 rounded text-sm",children:[e.jsx("option",{value:"sms",children:"SMS"}),e.jsx("option",{value:"email",children:"Email"})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:["to ",x==="sms"?n.customer.phone:n.customer.email]})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("textarea",{value:h,onChange:a=>f(a.target.value),placeholder:`Type your ${x} message...`,className:"w-full px-4 py-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3",maxLength:x==="sms"?160:1e3,onKeyPress:a=>{a.key==="Enter"&&!a.shiftKey&&(a.preventDefault(),o())}}),e.jsxs("div",{className:"absolute bottom-2 right-2 text-xs text-gray-400",children:[h.length,"/",x==="sms"?160:1e3]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(u,{variant:"ghost",size:"sm",children:e.jsx(ge,{className:"w-4 h-4"})}),e.jsx(u,{onClick:o,disabled:!h.trim(),className:"px-4 py-2",children:e.jsx(je,{className:"w-4 h-4"})})]})]})]})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(w,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a conversation"}),e.jsx("p",{className:"text-sm",children:"Choose a customer conversation to start messaging"})]})})})]})]})}):null},Ee=Object.freeze(Object.defineProperty({__proto__:null,default:se},Symbol.toStringTag,{value:"Module"})),Me=()=>{const[C,g]=c.useState([]),[n,l]=c.useState(""),[x,i]=c.useState([]),[h,f]=c.useState("list"),[j,m]=c.useState(!1),[v,z]=c.useState(!1),[y,N]=c.useState(!1),[S,t]=c.useState(!1),[d,o]=c.useState(null),[A,a]=c.useState(!1),[p,M]=c.useState({status:"all",type:"all",location:"all"}),ae=[{id:1,name:"John Meyer",company:"",email:"john.meyer@email.com",phone:"(406) 799-0536",mobile:"(406) 799-0536",address:"1251 Golf View Drive",city:"Seeley Lake",state:"MT",zip_code:"59868",created_at:"2025-01-15T10:00:00Z",last_contact:"2025-09-12T14:30:00Z",total_jobs:3,total_spent:2850,status:"active",type:"residential"},{id:2,name:"Bruce Hall",company:"",email:"bruce.hall@email.com",phone:"(719) 661-8955",mobile:"(719) 661-8955",address:"270 A Street",city:"Seeley Lake",state:"MT",zip_code:"59868",created_at:"2025-02-20T10:00:00Z",last_contact:"2025-09-10T09:15:00Z",total_jobs:1,total_spent:1200,status:"active",type:"residential"},{id:3,name:"Susan Scarr",company:"",email:"susan.scarr@email.com",phone:"(770) 480-9498",mobile:"(770) 480-9498",address:"916 Grand Ave",city:"Missoula",state:"MT",zip_code:"59802",created_at:"2025-03-10T10:00:00Z",last_contact:"2025-09-11T16:45:00Z",total_jobs:2,total_spent:1850,status:"active",type:"residential"},{id:4,name:"Michael Pritchard",company:"",email:"michael.pritchard@email.com",phone:"(406) 546-9299",mobile:"(406) 546-9299",address:"5855 La Voie Ln",city:"Missoula",state:"MT",zip_code:"59808",created_at:"2025-04-05T10:00:00Z",last_contact:"2025-09-09T11:20:00Z",total_jobs:4,total_spent:3200,status:"active",type:"commercial"},{id:5,name:"Nathan Winter",company:"",email:"nathan.winter@email.com",phone:"(904) 801-9219",mobile:"(904) 801-9219",address:"3071 Double Arrow Lookout Road",city:"Seeley Lake",state:"MT",zip_code:"59868",created_at:"2025-05-12T10:00:00Z",last_contact:"2025-09-08T14:20:00Z",total_jobs:1,total_spent:950,status:"prospect",type:"residential"}];c.useEffect(()=>{ne()},[]);const k=C.filter(s=>{const r=s.name.toLowerCase().includes(n.toLowerCase())||s.email.toLowerCase().includes(n.toLowerCase())||s.phone.includes(n)||s.address.toLowerCase().includes(n.toLowerCase())||s.city.toLowerCase().includes(n.toLowerCase()),b=p.status==="all"||s.status===p.status,I=p.type==="all"||s.type===p.type,oe=p.location==="all"||s.city===p.location;return r&&b&&I&&oe}),te=s=>{i(r=>r.includes(s)?r.filter(b=>b!==s):[...r,s])},le=()=>{x.length===k.length?i([]):i(k.map(s=>s.id))},re=s=>{const r={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",prospect:"bg-blue-100 text-blue-800"};return r[s]||r.active},ie=async s=>{try{try{const r=await H.createCustomer(s);g(b=>[r,...b]),console.log("Customer created via API:",r)}catch(r){console.error("API creation failed, using local data:",r);const b={...s,id:Date.now()};g(I=>[b,...I]),console.log("Customer created locally:",b)}}catch(r){throw console.error("Error creating customer:",r),r}},F=async s=>{console.log("Edit customer:",s);try{alert(`Edit customer: ${s.name}`)}catch(r){console.error("Error editing customer:",r),alert("Failed to edit customer. Please try again.")}},D=async s=>{console.log("Send message to customer:",s);try{alert(`Send message to: ${s.name} (${s.email})`)}catch(r){console.error("Error sending message:",r),alert("Failed to send message. Please try again.")}},O=async s=>{console.log("Schedule job for customer:",s);try{alert(`Schedule job for: ${s.name}`)}catch(r){console.error("Error scheduling job:",r),alert("Failed to schedule job. Please try again.")}},V=async s=>{console.log("Create estimate for customer:",s);try{alert(`Create estimate for: ${s.name}`)}catch(r){console.error("Error creating estimate:",r),alert("Failed to create estimate. Please try again.")}},W=async s=>{console.log("View history for customer:",s);try{alert(`View history for: ${s.name}`)}catch(r){console.error("Error viewing history:",r),alert("Failed to load customer history. Please try again.")}},R=async s=>{if(console.log("Delete customer:",s),confirm(`Are you sure you want to delete ${s.name}?`))try{g(r=>r.filter(b=>b.id!==s.id)),alert(`Customer ${s.name} has been deleted`)}catch(r){console.error("Error deleting customer:",r),alert("Failed to delete customer. Please try again.")}},ne=async()=>{try{const s=await H.getCustomers();g(s)}catch(s){console.error("Error fetching customers:",s),g(ae)}};return e.jsxs("div",{className:"h-screen bg-gray-50 flex",children:[e.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Customers"})}),e.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[e.jsxs("a",{href:"#",className:"flex items-center space-x-3 px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg",children:[e.jsx(Users,{className:"w-4 h-4"}),e.jsx("span",{children:"Customers"})]}),e.jsxs("a",{href:"#",className:"flex items-center space-x-3 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg",children:[e.jsx(Briefcase,{className:"w-4 h-4"}),e.jsx("span",{children:"Jobs"})]}),e.jsxs("a",{href:"#",className:"flex items-center space-x-3 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg",children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{children:"Estimates"})]}),e.jsxs("a",{href:"#",className:"flex items-center space-x-3 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg",children:[e.jsx(Receipt,{className:"w-4 h-4"}),e.jsx("span",{children:"Invoices"})]})]}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("button",{onClick:()=>m(!0),className:"w-full flex items-center justify-between px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(w,{className:"w-4 h-4"}),e.jsx("span",{children:"Inbox"})]}),e.jsx(_,{className:"bg-red-500 text-white",children:"3"})]})})]}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"bg-white border-b border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"All Customers"}),e.jsxs("p",{className:"text-gray-600",children:[k.length," records"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(u,{variant:"outline",size:"sm",children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),"Export"]}),e.jsxs(u,{variant:"outline",size:"sm",children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Import"]}),e.jsxs(u,{onClick:()=>t(!0),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),"New Customer"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search customers",value:n,onChange:s=>l(s.target.value),className:"pl-10 pr-4 py-2 w-80 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs(u,{variant:"outline",size:"sm",onClick:()=>a(!A),children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Filter"]}),A&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)}),e.jsx("div",{className:"absolute left-0 mt-2 w-64 bg-white rounded-md shadow-lg z-50 border border-gray-200",children:e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Filter Customers"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:p.status,onChange:s=>M(r=>({...r,status:s.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"prospect",children:"Prospect"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Customer Type"}),e.jsxs("select",{value:p.type,onChange:s=>M(r=>({...r,type:s.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"residential",children:"Residential"}),e.jsx("option",{value:"commercial",children:"Commercial"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Location"}),e.jsxs("select",{value:p.location,onChange:s=>M(r=>({...r,location:s.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Locations"}),e.jsx("option",{value:"Seeley Lake",children:"Seeley Lake"}),e.jsx("option",{value:"Missoula",children:"Missoula"})]})]}),e.jsxs("div",{className:"flex space-x-2 pt-3 border-t border-gray-200",children:[e.jsx(u,{size:"sm",variant:"outline",onClick:()=>{M({status:"all",type:"all",location:"all"})},className:"flex-1",children:"Clear"}),e.jsx(u,{size:"sm",onClick:()=>a(!1),className:"flex-1",children:"Apply"})]})]})})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>f("list"),className:`px-3 py-1 text-sm font-medium rounded-md ${h==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:e.jsx(Ne,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>f("grid"),className:`px-3 py-1 text-sm font-medium rounded-md ${h==="grid"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:e.jsx(we,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs(u,{variant:"outline",size:"sm",onClick:()=>N(!y),className:"flex items-center space-x-2",children:[e.jsx("span",{children:"Actions"}),e.jsx(ChevronDown,{className:"w-4 h-4"})]}),y&&e.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:e.jsxs("div",{className:"py-2",children:[e.jsxs("button",{onClick:()=>{t(!0),N(!1)},className:"w-full flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(Ce,{className:"w-4 h-4"}),e.jsx("span",{children:"Create customer"})]}),e.jsxs("button",{className:"w-full flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx("span",{children:"Import"})]}),e.jsxs("button",{className:"w-full flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(J,{className:"w-4 h-4"}),e.jsx("span",{children:"Export"})]}),e.jsx("div",{className:"border-t border-gray-200 my-2"}),e.jsxs("button",{className:"w-full flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(Se,{className:"w-4 h-4"}),e.jsx("span",{children:"Restore deleted"})]}),e.jsxs("button",{className:"w-full flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(ke,{className:"w-4 h-4"}),e.jsx("span",{children:"Manage duplicates"})]})]})})]})]})]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:h==="list"?e.jsxs("div",{className:"h-full overflow-y-auto",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-3",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm font-medium text-gray-500",children:[e.jsx("div",{className:"col-span-1",children:e.jsx("input",{type:"checkbox",checked:x.length===k.length&&k.length>0,onChange:le,className:"rounded border-gray-300"})}),e.jsx("div",{className:"col-span-3",children:"Display name"}),e.jsx("div",{className:"col-span-2",children:"Company"}),e.jsx("div",{className:"col-span-3",children:"Address"}),e.jsx("div",{className:"col-span-2",children:"Mobile"}),e.jsx("div",{className:"col-span-1",children:"Actions"})]})}),e.jsx("div",{className:"bg-white",children:k.map(s=>e.jsxs("div",{className:`grid grid-cols-12 gap-4 px-6 py-4 border-b border-gray-100 hover:bg-gray-50 ${x.includes(s.id)?"bg-blue-50":""}`,children:[e.jsx("div",{className:"col-span-1 flex items-center",children:e.jsx("input",{type:"checkbox",checked:x.includes(s.id),onChange:()=>te(s.id),className:"rounded border-gray-300"})}),e.jsx("div",{className:"col-span-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(E,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.email})]})]})}),e.jsx("div",{className:"col-span-2 flex items-center",children:e.jsx("span",{className:"text-gray-900",children:s.company||"-"})}),e.jsx("div",{className:"col-span-3 flex items-center",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900",children:s.address}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.city,", ",s.state," ",s.zip_code]})]})}),e.jsx("div",{className:"col-span-2 flex items-center",children:e.jsx("span",{className:"text-gray-900",children:s.mobile})}),e.jsx("div",{className:"col-span-1 flex items-center relative",children:e.jsxs("div",{className:"relative",children:[e.jsx(u,{variant:"ghost",size:"sm",onClick:()=>o(d===s.id?null:s.id),children:e.jsx(K,{className:"w-4 h-4"})}),d===s.id&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(null)}),e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-50 border border-gray-200",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{onClick:()=>{o(null),F(s)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[e.jsx(U,{className:"w-4 h-4 inline mr-2"}),"Edit Customer"]}),e.jsxs("button",{onClick:()=>{o(null),D(s)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[e.jsx(w,{className:"w-4 h-4 inline mr-2"}),"Send Message"]}),e.jsxs("button",{onClick:()=>{o(null),O(s)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[e.jsx(L,{className:"w-4 h-4 inline mr-2"}),"Schedule Job"]}),e.jsxs("button",{onClick:()=>{o(null),V(s)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[e.jsx($,{className:"w-4 h-4 inline mr-2"}),"Create Estimate"]}),e.jsxs("button",{onClick:()=>{o(null),W(s)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[e.jsx(Receipt,{className:"w-4 h-4 inline mr-2"}),"View History"]}),e.jsx("div",{className:"border-t border-gray-100 my-1"}),e.jsxs("button",{onClick:()=>{o(null),R(s)},className:"block px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[e.jsx(q,{className:"w-4 h-4 inline mr-2"}),"Delete Customer"]})]})})]})]})})]},s.id))})]}):e.jsx("div",{className:"p-6 overflow-y-auto",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:k.map(s=>e.jsxs(de,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(me,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(E,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-lg",children:s.name}),e.jsx(_,{className:re(s.status),variant:"secondary",children:s.status})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{variant:"ghost",size:"sm",onClick:()=>o(d===s.id?null:s.id),children:e.jsx(K,{className:"w-4 h-4"})}),d===s.id&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(null)}),e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-50 border border-gray-200",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{onClick:()=>{o(null),F(s)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[e.jsx(U,{className:"w-4 h-4 inline mr-2"}),"Edit Customer"]}),e.jsxs("button",{onClick:()=>{o(null),D(s)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[e.jsx(w,{className:"w-4 h-4 inline mr-2"}),"Send Message"]}),e.jsxs("button",{onClick:()=>{o(null),O(s)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[e.jsx(L,{className:"w-4 h-4 inline mr-2"}),"Schedule Job"]}),e.jsxs("button",{onClick:()=>{o(null),V(s)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[e.jsx($,{className:"w-4 h-4 inline mr-2"}),"Create Estimate"]}),e.jsxs("button",{onClick:()=>{o(null),W(s)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[e.jsx(Receipt,{className:"w-4 h-4 inline mr-2"}),"View History"]}),e.jsx("div",{className:"border-t border-gray-100 my-1"}),e.jsxs("button",{onClick:()=>{o(null),R(s)},className:"block px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[e.jsx(q,{className:"w-4 h-4 inline mr-2"}),"Delete Customer"]})]})})]})]})]})}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(P,{className:"w-4 h-4"}),e.jsx("span",{children:s.phone})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate",children:s.email})]}),e.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-600",children:[e.jsx(X,{className:"w-4 h-4 mt-0.5"}),e.jsxs("span",{children:[s.address,e.jsx("br",{}),s.city,", ",s.state," ",s.zip_code]})]}),e.jsx("div",{className:"pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Total Jobs"}),e.jsx("p",{className:"font-medium",children:s.total_jobs})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Total Spent"}),e.jsxs("p",{className:"font-medium",children:["$",s.total_spent.toLocaleString()]})]})]})}),e.jsxs("div",{className:"flex space-x-2 pt-3",children:[e.jsxs(u,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Message"]}),e.jsxs(u,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Schedule"]})]})]})})]},s.id))})})})]}),j&&e.jsx(se,{isOpen:j,onClose:()=>m(!1)}),e.jsx(ee,{isOpen:S,onClose:()=>t(!1),onSave:ie}),y&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>N(!1)})]})},Pe=Object.freeze(Object.defineProperty({__proto__:null,default:Me},Symbol.toStringTag,{value:"Module"}));export{_e as C,Ae as I,Ee as a,Pe as b};
