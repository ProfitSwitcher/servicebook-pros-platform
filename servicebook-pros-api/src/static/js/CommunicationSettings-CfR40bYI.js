import{j as e,a as o,C as d,d as m,e as x,g as u,f as p,B as T}from"./dashboard-C0toryoe.js";import{r as i,o as Y,aj as L,S as V,k as q,j as M,x as G,h as R,i as E,P as J,aE as U,_ as W,w as Q}from"./ui-vendor-ClOptf7u.js";import"./chart-vendor-CPMpf-Yy.js";import"./react-vendor-Csw2ODfV.js";const te=()=>{const[h,A]=i.useState("sms"),[C,X]=i.useState("verified"),[y,P]=i.useState(!1),[a,_]=i.useState("appointment"),[D,f]=i.useState(!1),[w,g]=i.useState(!1),[j,S]=i.useState(null),[n,N]=i.useState({phoneNumber:"+1 (555) 123-7890",autoReply:!0,businessHoursOnly:!0,autoReplyMessage:"Thank you for contacting us! We'll get back to you soon during business hours."}),[r,b]=i.useState({customDomain:"yourbusiness.com",sendgridApiKey:"SG.************cz",fromEmail:"noreply@yourbusiness.com",fromName:"Your Business",signature:"John Smith, Your Business"}),[t,v]=i.useState({appointment:{sms:"Hi {customer_name}, reminder: appointment on {appointment_time}. Reply STOP to opt out.",email:{subject:"Appointment Reminder",content:"<p>Hi {customer_name},</p><p>This is a reminder for your appointment on {appointment_time}.</p><p>Thank you!</p>"}},estimate:{sms:"Hi {customer_name}, your estimate is ready! Total: ${amount}. View: {estimate_link}",email:{subject:"Your Estimate is Ready",content:"<p>Hi {customer_name},</p><p>Your estimate is ready for ${amount}.</p><p>Please review and let us know if you have questions.</p>"}},completion:{sms:"Hi {customer_name}, your service is complete! Thank you for choosing us.",email:{subject:"Service Completed",content:"<p>Hi {customer_name},</p><p>We have completed your service.</p><p>Thank you for choosing us!</p>"}}}),H=[{number:"+1 (406) 555-0101",areaCode:"406",region:"Montana",cost:"$1.00"},{number:"+1 (406) 555-0102",areaCode:"406",region:"Montana",cost:"$1.00"},{number:"+1 (719) 555-0201",areaCode:"719",region:"Colorado",cost:"$1.00"}],$=[{type:"SPF",value:"v=spf1 include:sendgrid.net ~all"},{type:"DKIM",value:"abcXf07pcwYAGQBNu1RBIUC="},{type:"DMARC",value:"v=DMARC1; p=none; rua=mailto:dmarc@yourbusiness.com"}],c=(s,l="success")=>{S({message:s,type:l}),setTimeout(()=>S(null),3e3)},F=async s=>{try{await navigator.clipboard.writeText(s),c("Copied to clipboard!")}catch(l){console.error("Failed to copy:",l)}},B=async()=>{g(!0);try{await new Promise(s=>setTimeout(s,1e3)),c("Settings saved successfully!")}catch{c("Failed to save settings","error")}finally{g(!1)}},z=async(s,l)=>{g(!0);try{await new Promise(k=>setTimeout(k,1500)),c(`Test ${s} sent to ${l}!`),f(!1)}catch{c(`Failed to send test ${s}`,"error")}finally{g(!1)}},K=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs(d,{children:[e.jsxs(m,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5"}),"SMS Configuration"]}),e.jsx(u,{children:"Manage your Twilio SMS settings"})]}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Current Phone Number"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"text",value:n.phoneNumber,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"}),e.jsx(T,{className:"bg-green-100 text-green-700",children:"Active"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"autoReply",checked:n.autoReply,onChange:s=>N({...n,autoReply:s.target.checked}),className:"rounded"}),e.jsx("label",{htmlFor:"autoReply",className:"text-sm",children:"Enable auto-reply"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"businessHours",checked:n.businessHoursOnly,onChange:s=>N({...n,businessHoursOnly:s.target.checked}),className:"rounded"}),e.jsx("label",{htmlFor:"businessHours",className:"text-sm",children:"Business hours only"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Auto-Reply Message"}),e.jsx("textarea",{value:n.autoReplyMessage,onChange:s=>N({...n,autoReplyMessage:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:"3",maxLength:"160"}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[n.autoReplyMessage.length,"/160 characters"]})]})]})]}),e.jsxs(d,{children:[e.jsxs(m,{children:[e.jsx(x,{children:"Available Phone Numbers"}),e.jsx(u,{children:"Purchase additional numbers for your business"})]}),e.jsx(p,{children:e.jsx("div",{className:"space-y-3",children:H.map((s,l)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.number}),e.jsxs("div",{className:"text-sm text-gray-500",children:[s.region," (",s.areaCode,")"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm font-medium",children:[s.cost,"/month"]}),e.jsx(o,{size:"sm",children:"Purchase"})]})]},l))})})]})]}),O=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs(d,{children:[e.jsxs(m,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-5 h-5"}),"Email Domain Configuration"]}),e.jsx(u,{children:"Set up your custom email domain"})]}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Custom Domain"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"text",value:r.customDomain,onChange:s=>b({...r,customDomain:s.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"}),e.jsx(T,{className:`${C==="verified"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:C==="verified"?e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"w-3 h-3 mr-1"}),"Verified"]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"w-3 h-3 mr-1"}),"Pending"]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"From Email"}),e.jsx("input",{type:"email",value:r.fromEmail,onChange:s=>b({...r,fromEmail:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"From Name"}),e.jsx("input",{type:"text",value:r.fromName,onChange:s=>b({...r,fromName:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"SendGrid API Key"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:y?"text":"password",value:r.sendgridApiKey,onChange:s=>b({...r,sendgridApiKey:s.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg font-mono text-sm"}),e.jsx(o,{variant:"outline",size:"sm",onClick:()=>P(!y),children:y?e.jsx(U,{className:"w-4 h-4"}):e.jsx(W,{className:"w-4 h-4"})})]})]})]})]}),e.jsxs(d,{children:[e.jsxs(m,{children:[e.jsx(x,{children:"DNS Records"}),e.jsx(u,{children:"Add these records to your domain's DNS settings"})]}),e.jsx(p,{children:e.jsx("div",{className:"space-y-3",children:$.map((s,l)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm",children:s.type}),e.jsx("div",{className:"text-xs text-gray-600 font-mono break-all",children:s.value})]}),e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>F(s.value),children:[e.jsx(Q,{className:"w-3 h-3 mr-1"}),"Copy"]})]},l))})})]})]}),I=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs(d,{children:[e.jsxs(m,{children:[e.jsx(x,{children:"Message Templates"}),e.jsx(u,{children:"Customize your automated messages"})]}),e.jsxs(p,{children:[e.jsx("div",{className:"flex space-x-1 mb-6 bg-gray-100 p-1 rounded-lg",children:Object.keys(t).map(s=>e.jsx("button",{onClick:()=>_(s),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ${a===s?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:s.charAt(0).toUpperCase()+s.slice(1)},s))}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"SMS Template"}),e.jsx("textarea",{value:t[a].sms,onChange:s=>v({...t,[a]:{...t[a],sms:s.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:"3",maxLength:"160"}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[t[a].sms.length,"/160 characters"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email Subject"}),e.jsx("input",{type:"text",value:t[a].email.subject,onChange:s=>v({...t,[a]:{...t[a],email:{...t[a].email,subject:s.target.value}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email Content"}),e.jsx("textarea",{value:t[a].email.content,onChange:s=>v({...t,[a]:{...t[a],email:{...t[a].email,content:s.target.value}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:"6"})]}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-blue-900 mb-2",children:"Available Merge Fields:"}),e.jsxs("div",{className:"text-xs text-blue-700 space-x-2",children:[e.jsx("span",{className:"bg-blue-100 px-2 py-1 rounded",children:"{customer_name}"}),e.jsx("span",{className:"bg-blue-100 px-2 py-1 rounded",children:"{appointment_time}"}),e.jsx("span",{className:"bg-blue-100 px-2 py-1 rounded",children:"{amount}"}),e.jsx("span",{className:"bg-blue-100 px-2 py-1 rounded",children:"{job_address}"}),e.jsx("span",{className:"bg-blue-100 px-2 py-1 rounded",children:"{technician_name}"})]})]})]})]})]})});return e.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Communication Settings"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Configure SMS and email communication for your business"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(o,{variant:"outline",onClick:()=>f(!0),children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Send Test"]}),e.jsxs(o,{onClick:B,disabled:w,children:[w?e.jsx(L,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(V,{className:"w-4 h-4 mr-2"}),"Save Settings"]})]})]}),e.jsx("div",{className:"flex space-x-1 mb-8 bg-gray-100 p-1 rounded-lg",children:[{id:"sms",label:"SMS Configuration",icon:q},{id:"email",label:"Email Setup",icon:M},{id:"templates",label:"Templates",icon:G}].map(s=>{const l=s.icon;return e.jsxs("button",{onClick:()=>A(s.id),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium rounded-md transition-colors ${h===s.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(l,{className:"w-4 h-4"}),s.label]},s.id)})}),e.jsxs("div",{className:"min-h-[600px]",children:[h==="sms"&&K(),h==="email"&&O(),h==="templates"&&I()]}),D&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Send Test Message"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Type"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"sms",children:"SMS"}),e.jsx("option",{value:"email",children:"Email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Recipient"}),e.jsx("input",{type:"text",placeholder:"Phone number or email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Template"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"appointment",children:"Appointment Reminder"}),e.jsx("option",{value:"estimate",children:"Estimate Ready"}),e.jsx("option",{value:"completion",children:"Job Completion"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx(o,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),e.jsx(o,{onClick:()=>z("SMS","+1234567890"),children:"Send Test"})]})]})}),j&&e.jsx("div",{className:`fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 ${j.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[j.type==="success"?e.jsx(R,{className:"w-4 h-4"}):e.jsx(E,{className:"w-4 h-4"}),j.message]})})]})};export{te as default};
